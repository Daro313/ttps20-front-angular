<div class="container">
  <h2 *ngIf="!edit">Nuevo Foodtruck</h2>
  <h2 *ngIf="edit">Actualizar datos del Foodtruck</h2>
  <form (ngSubmit)="edit ? updateFoodtruck() : saveFoodtruck()" #foodtruckForm="ngForm">
    <div class="form-group">
      <label for="nombre">Nombre del foodtruck</label><br>
      <input [(ngModel)]="foodtruck.nombre" type="text" class="form-control" name="nombre" required>
    </div>
    <div class="form-group">
      <label for="descripcion">Descripcion</label><br>
      <textarea class="form-control" rows="5" [(ngModel)]="foodtruck.descripcion" name="descripcion" required></textarea>
    </div>
    <div class="form-group">
      <label for="provincia">Provincia</label><br>
      <input type="text" name="provincia" [(ngModel)]="foodtruck.ubicacion.provincia" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="ciudad">Ciudad</label><br>
      <input type="text" name="ciudad" [(ngModel)]="foodtruck.ubicacion.ciudad" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="direccion">Direccion</label><br>
      <input type="text" name="direccion" [(ngModel)]="foodtruck.ubicacion.direccion" class="form-control" required>
    </div>
    <label>Agregar imagenes</label><br>
    <button type="button" class="btn btn-success" (click)="addImgInput()">+</button>
    <div class="form-row" *ngFor="let img of foodtruck.imagenes; let i=index">
      <div class="col-md-4">
        <input type="text" name="imgNombre{{i}}" [(ngModel)]="img.nombre" class="form-control" placeholder="Nombre">
      </div>
      <div class="col-md-6">
        <input type="text" name="imgUrl{{i}}" [(ngModel)]="img.path" class="form-control" placeholder="URL de la imagen" required>
      </div>
      <div class="col-md-2">
        <span type="button" class="btn btn-danger" (click)="removeImgInput(i)" *ngIf="i!=0">-</span>
      </div>
    </div>
    <div class="form-group">
      <label for="url">Pagina web</label><br>
      <input [(ngModel)]="foodtruck.url" type="url" class="form-control" name="url" required>
    </div>
    <div class="form-group">
      <label for="email">Whatsapp</label><br>
      <input [(ngModel)]="foodtruck.whatsapp" type="tel" class="form-control" name="whatsapp" required>
    </div>
    <div class="form-group">
      <label for="instagram">Instagram</label><br>
      <input [(ngModel)]="foodtruck.instagram" type="text" class="form-control" name="instagram" required>
    </div>
    <div class="form-group">
      <label for="twitter">Twitter</label><br>
      <input [(ngModel)]="foodtruck.twitter" type="text" class="form-control" name="twitter" required>
    </div>
    <div class="form-group">
      <label for="sTipo">Tipo de servicio</label>
      <div class="form-check" *ngFor="let s of sTipo">
        <label class="form-check-label" >
          <input type="checkbox" class="form-check-input" value="{{s.servicio}}" [checked]="checkSelected(s.id)" (change)="onChange(s, $event.target.checked)">{{s.servicio}}
        </label>
      </div>
    </div>
    <button type="submit" class="btn btn-success" name="">Guardar</button>
  </form>
</div>
